<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>‡∏à‡∏±‡∏ö‡∏â‡∏•‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà 2568</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700;800&amp;display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        box-sizing: border-box;
      }

      * {
        box-sizing: border-box;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: "Prompt", sans-serif;
      }

      .app-wrapper {
        width: 100%;
        height: 100%;
        background: linear-gradient(
          135deg,
          #667eea 0%,
          #764ba2 50%,
          #f093fb 100%
        );
        position: relative;
        overflow-y: auto;
        overflow-x: hidden;
        padding: 3rem 1.5rem;
      }

      .app-wrapper::before {
        content: "";
        position: fixed;
        top: -50%;
        right: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.15) 0%,
          transparent 70%
        );
        animation: rotate 30s linear infinite;
        pointer-events: none;
      }

      @keyframes rotate {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      .floating-shapes {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        overflow: hidden;
      }

      .shape {
        position: absolute;
        opacity: 0.1;
        animation: float 20s infinite ease-in-out;
      }

      .shape:nth-child(1) {
        top: 10%;
        left: 10%;
        font-size: 4rem;
        animation-delay: 0s;
      }

      .shape:nth-child(2) {
        top: 60%;
        left: 80%;
        font-size: 3rem;
        animation-delay: 3s;
      }

      .shape:nth-child(3) {
        top: 80%;
        left: 20%;
        font-size: 3.5rem;
        animation-delay: 6s;
      }

      .shape:nth-child(4) {
        top: 30%;
        left: 70%;
        font-size: 2.5rem;
        animation-delay: 9s;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0) rotate(0deg);
        }
        25% {
          transform: translateY(-30px) rotate(5deg);
        }
        50% {
          transform: translateY(-50px) rotate(-5deg);
        }
        75% {
          transform: translateY(-30px) rotate(3deg);
        }
      }

      .container {
        max-width: 750px;
        margin: 0 auto;
        position: relative;
        z-index: 1;
      }

      .header {
        text-align: center;
        margin-bottom: 3rem;
        animation: fadeInDown 0.8s ease-out;
      }

      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .main-title {
        font-size: 3.5rem;
        font-weight: 800;
        color: #ffffff;
        margin: 0 0 1rem 0;
        text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3),
          0 0 40px rgba(255, 255, 255, 0.3);
        letter-spacing: 2px;
        line-height: 1.2;
      }

      .subtitle {
        font-size: 1.5rem;
        color: #ffffff;
        margin: 0;
        opacity: 0.95;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        font-weight: 400;
      }

      .card {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 2rem;
        padding: 2.5rem;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.25),
          0 0 0 1px rgba(255, 255, 255, 0.5);
        margin-bottom: 2rem;
        animation: fadeInUp 1s ease-out;
        border: 2px solid rgba(255, 255, 255, 0.3);
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .form-group {
        margin-bottom: 2rem;
      }

      .form-label {
        display: block;
        font-size: 1.1rem;
        font-weight: 600;
        color: #333;
        margin-bottom: 0.75rem;
        letter-spacing: 0.5px;
      }

      .form-select {
        width: 100%;
        padding: 1rem 1.25rem;
        font-size: 1.05rem;
        border: 3px solid #e2e8f0;
        border-radius: 1rem;
        background: white;
        transition: all 0.3s;
        font-family: "Prompt", sans-serif;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      }

      .form-select:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.15),
          0 8px 25px rgba(102, 126, 234, 0.2);
        transform: translateY(-2px);
      }

      .draw-button {
        width: 100%;
        padding: 1.5rem;
        font-size: 1.5rem;
        font-weight: 700;
        color: white;
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        border: none;
        border-radius: 1.25rem;
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        font-family: "Prompt", sans-serif;
        box-shadow: 0 10px 30px rgba(245, 87, 108, 0.4),
          0 0 0 0 rgba(245, 87, 108, 0.5);
        position: relative;
        overflow: hidden;
        letter-spacing: 1px;
      }

      .draw-button::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.3),
          transparent
        );
        transition: left 0.5s;
      }

      .draw-button:hover:not(:disabled)::before {
        left: 100%;
      }

      .draw-button:hover:not(:disabled) {
        transform: translateY(-5px) scale(1.02);
        box-shadow: 0 15px 40px rgba(245, 87, 108, 0.5),
          0 0 20px rgba(245, 87, 108, 0.4);
      }

      .draw-button:active:not(:disabled) {
        transform: translateY(-2px) scale(1);
      }

      .draw-button:disabled {
        opacity: 0.7;
        cursor: not-allowed;
        transform: none;
      }

      .results-section {
        margin-top: 2rem;
        animation: fadeInUp 1.2s ease-out;
      }

      .results-title {
        font-size: 2rem;
        font-weight: 700;
        color: #ffffff;
        text-align: center;
        margin-bottom: 1.5rem;
        text-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        letter-spacing: 1px;
      }

      .result-item {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 1.5rem;
        padding: 1.5rem;
        margin-bottom: 1rem;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        display: flex;
        align-items: center;
        gap: 1.5rem;
        transition: all 0.3s;
        border: 2px solid rgba(255, 255, 255, 0.5);
        animation: slideInLeft 0.5s ease-out backwards;
      }

      @keyframes slideInLeft {
        from {
          opacity: 0;
          transform: translateX(-30px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .result-item:hover {
        transform: translateX(10px) scale(1.02);
        box-shadow: 0 12px 35px rgba(0, 0, 0, 0.2);
      }

      .result-number {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        font-weight: 700;
        font-size: 1.5rem;
        min-width: 65px;
        height: 65px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        border: 3px solid rgba(255, 255, 255, 0.3);
      }

      .result-details {
        flex: 1;
      }

      .result-name {
        font-weight: 600;
        color: #333;
        font-size: 1.2rem;
        margin-bottom: 0.25rem;
      }

      .result-prize {
        color: #666;
        font-size: 1rem;
      }

      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(5px);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        padding: 1rem;
      }

      .modal-overlay.active {
        display: flex;
      }

      .modal-content {
        background: white;
        border-radius: 2rem;
        padding: 3rem 2.5rem;
        max-width: 450px;
        width: 100%;
        text-align: center;
        box-shadow: 0 30px 80px rgba(0, 0, 0, 0.4);
        animation: modalBounceIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        border: 3px solid rgba(255, 255, 255, 0.5);
      }

      @keyframes modalBounceIn {
        0% {
          transform: scale(0.3);
          opacity: 0;
        }
        50% {
          transform: scale(1.05);
        }
        70% {
          transform: scale(0.9);
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .drawing-modal {
        background: white;
        border-radius: 2rem;
        padding: 4rem 3rem;
        max-width: 450px;
        width: 100%;
        text-align: center;
        box-shadow: 0 30px 80px rgba(0, 0, 0, 0.4);
        border: 3px solid rgba(255, 255, 255, 0.5);
        position: relative;
      }

      .gift-box {
        font-size: 10rem;
        display: inline-block;
        animation: shakeGift 0.5s ease-in-out infinite;
        margin-bottom: 1.5rem;
        filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.2));
      }

      @keyframes shakeGift {
        0%,
        100% {
          transform: rotate(0deg);
        }
        10% {
          transform: rotate(-12deg) scale(1.05);
        }
        20% {
          transform: rotate(12deg) scale(1.05);
        }
        30% {
          transform: rotate(-12deg) scale(1.1);
        }
        40% {
          transform: rotate(12deg) scale(1.1);
        }
        50% {
          transform: rotate(-10deg) scale(1.05);
        }
        60% {
          transform: rotate(10deg) scale(1.05);
        }
        70% {
          transform: rotate(-6deg) scale(1.02);
        }
        80% {
          transform: rotate(6deg) scale(1.02);
        }
        90% {
          transform: rotate(-3deg) scale(1.01);
        }
      }

      .drawing-text {
        font-size: 2rem;
        font-weight: 700;
        color: #667eea;
        margin-bottom: 0.75rem;
        letter-spacing: 1px;
      }

      .drawing-subtext {
        font-size: 1.2rem;
        color: #666;
        animation: pulse 1.5s ease-in-out infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.4;
        }
      }

      .sparkles {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 350px;
        height: 350px;
        pointer-events: none;
      }

      .sparkle {
        position: absolute;
        font-size: 2.5rem;
        animation: sparkleFloat 2s ease-in-out infinite;
        filter: drop-shadow(0 0 10px currentColor);
      }

      .sparkle:nth-child(1) {
        top: 5%;
        left: 5%;
        animation-delay: 0s;
      }

      .sparkle:nth-child(2) {
        top: 5%;
        right: 5%;
        animation-delay: 0.3s;
      }

      .sparkle:nth-child(3) {
        bottom: 5%;
        left: 5%;
        animation-delay: 0.6s;
      }

      .sparkle:nth-child(4) {
        bottom: 5%;
        right: 5%;
        animation-delay: 0.9s;
      }

      @keyframes sparkleFloat {
        0%,
        100% {
          transform: translateY(0) scale(1) rotate(0deg);
          opacity: 0.8;
        }
        50% {
          transform: translateY(-25px) scale(1.3) rotate(180deg);
          opacity: 1;
        }
      }

      .modal-icon {
        font-size: 5rem;
        margin-bottom: 1.5rem;
        animation: bounceIcon 1s ease-in-out infinite;
        filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.2));
      }

      @keyframes bounceIcon {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      .modal-title {
        font-size: 2.25rem;
        font-weight: 700;
        color: #333;
        margin-bottom: 1.5rem;
        letter-spacing: 1px;
      }

      .modal-info {
        background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
        border-radius: 1.5rem;
        padding: 1.75rem;
        margin-bottom: 2rem;
        text-align: left;
        box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.05);
        border: 2px solid rgba(102, 126, 234, 0.1);
      }

      .modal-info-item {
        margin-bottom: 1rem;
        font-size: 1.15rem;
        display: flex;
        align-items: baseline;
        gap: 0.5rem;
      }

      .modal-info-item:last-child {
        margin-bottom: 0;
      }

      .modal-info-label {
        font-weight: 700;
        color: #667eea;
        min-width: 80px;
      }

      .modal-info-value {
        color: #333;
        font-weight: 500;
        flex: 1;
      }

      .modal-close-btn {
        width: 100%;
        padding: 1.25rem;
        font-size: 1.25rem;
        font-weight: 700;
        color: white;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
        border-radius: 1.25rem;
        cursor: pointer;
        font-family: "Prompt", sans-serif;
        transition: all 0.3s;
        box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        letter-spacing: 1px;
      }

      .modal-close-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 30px rgba(102, 126, 234, 0.4);
      }

      .error-message {
        background: linear-gradient(135deg, #fee 0%, #fdd 100%);
        color: #c33;
        padding: 1.25rem;
        border-radius: 1rem;
        margin-top: 1.5rem;
        display: none;
        font-weight: 500;
        border: 2px solid rgba(204, 51, 51, 0.2);
        box-shadow: 0 4px 15px rgba(204, 51, 51, 0.1);
      }

      .error-message.active {
        display: block;
        animation: shake 0.5s;
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-10px);
        }
        75% {
          transform: translateX(10px);
        }
      }

      .loading-spinner {
        display: inline-block;
        width: 22px;
        height: 22px;
        border: 3px solid rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        border-top-color: white;
        animation: spin 0.8s linear infinite;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      .stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2.5rem;
        animation: fadeInUp 1s ease-out 0.2s backwards;
      }

      .stat-card {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 2rem;
        padding: 2rem 1.5rem;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        border: 2px solid rgba(255, 255, 255, 0.5);
        position: relative;
        overflow: hidden;
      }

      .stat-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: radial-gradient(
          circle at center,
          rgba(255, 255, 255, 0.3) 0%,
          transparent 70%
        );
        opacity: 0;
        transition: opacity 0.3s;
      }

      .stat-card:hover::before {
        opacity: 1;
      }

      .stat-card:hover {
        transform: translateY(-10px) scale(1.05);
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.25);
      }

      .stat-icon {
        font-size: 3.5rem;
        margin-bottom: 1rem;
        display: inline-block;
        filter: drop-shadow(0 5px 10px rgba(0, 0, 0, 0.1));
      }

      .stat-label {
        font-size: 1rem;
        color: #666;
        margin-bottom: 0.75rem;
        font-weight: 600;
        letter-spacing: 0.5px;
      }

      .stat-value {
        font-size: 2.5rem;
        font-weight: 700;
        color: #333;
        letter-spacing: 1px;
      }

      .stat-card.drawn {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        border-color: rgba(255, 255, 255, 0.3);
      }

      .stat-card.drawn .stat-icon,
      .stat-card.drawn .stat-label,
      .stat-card.drawn .stat-value {
        color: white;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      }

      .stat-card.total {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-color: rgba(255, 255, 255, 0.3);
      }

      .stat-card.total .stat-icon,
      .stat-card.total .stat-label,
      .stat-card.total .stat-value {
        color: white;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      }

      .stat-card.remaining {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        border-color: rgba(255, 255, 255, 0.3);
      }

      .stat-card.remaining .stat-icon,
      .stat-card.remaining .stat-label,
      .stat-card.remaining .stat-value {
        color: white;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      }

      @media (max-width: 768px) {
        .main-title {
          font-size: 2.5rem;
        }

        .subtitle {
          font-size: 1.2rem;
        }

        .card {
          padding: 2rem;
        }

        .stats {
          grid-template-columns: 1fr;
        }
      }
    </style>
    <style>
      @view-transition {
        navigation: auto;
      }
    </style>
    <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
  </head>
  <body>
    <div class="floating-shapes">
      <div class="shape">üéÅ</div>
      <div class="shape">üéâ</div>
      <div class="shape">‚≠ê</div>
      <div class="shape">‚ú®</div>
    </div>
    <div class="app-wrapper">
      <div class="container">
        <div class="header">
          <h1 class="main-title" id="mainTitle">üéÅ ‡∏à‡∏±‡∏ö‡∏â‡∏•‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà üéÅ</h1>
          <p class="subtitle" id="subtitle">‡∏•‡∏∏‡πâ‡∏ô‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÉ‡∏´‡∏ç‡πà‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ 2568</p>
        </div>
        <div class="card">
          <div class="form-group">
            <label class="form-label" for="nameSearch"
              >‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</label
            >
            <input
              type="text"
              id="nameSearch"
              class="form-select mb-3"
              placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤..."
            />

            <label class="form-label" for="nameSelect"
              >‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</label
            >
            <select class="form-select" id="nameSelect">
              <option value="">-- ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠ --</option>
            </select>
          </div>
          <button class="draw-button" id="drawButton">
            <span id="drawButtonText">üé≤ ‡∏™‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</span>
          </button>
          <div class="error-message" id="errorMessage"></div>
        </div>
        <div class="stats">
          <div class="stat-card drawn">
            <div class="stat-icon">üéÅ</div>
            <div class="stat-label">‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏à‡∏±‡∏ö</div>
            <div class="stat-value" id="drawnCount">0/84</div>
          </div>
          <div class="stat-card total">
            <div class="stat-icon">üë•</div>
            <div class="stat-label">‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
            <div class="stat-value" id="totalCount">84</div>
          </div>
          <div class="stat-card remaining">
            <div class="stat-icon">‚≠ê</div>
            <div class="stat-label">‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠</div>
            <div class="stat-value" id="remainingCount">84</div>
          </div>
        </div>
        <div class="results-section" id="resultsSection" style="display: none">
          <h2 class="results-title">üèÜ ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ</h2>
          <div id="resultsList"></div>
        </div>
      </div>
    </div>
    <div class="modal-overlay" id="drawingOverlay">
      <div class="drawing-modal">
        <div class="gift-box">üéÅ</div>
        <div class="drawing-text">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•...</div>
        <div class="drawing-subtext">‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà</div>
      </div>
    </div>
    <div class="modal-overlay" id="modalOverlay">
      <div class="modal-content">
        <div class="modal-icon">üéâ</div>
        <h2 class="modal-title">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢ !</h2>
        <div class="modal-info">
          <div class="modal-info-item">
            <span class="modal-info-label">‡∏ä‡∏∑‡πà‡∏≠:</span>
            <span class="modal-info-value" id="modalName"></span>
          </div>
          <div class="modal-info-item">
            <span class="modal-info-label">‡πÄ‡∏ö‡∏≠‡∏£‡πå:</span>
            <span class="modal-info-value" id="modalNumber"></span>
          </div>
          <div class="modal-info-item">
            <span class="modal-info-label">‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•:</span>
            <span class="modal-info-value" id="modalPrize"></span>
          </div>
        </div>
        <button class="modal-close-btn" id="modalCloseBtn">‡∏õ‡∏¥‡∏î</button>
      </div>
    </div>
    <!-- üîä ‡πÄ‡∏™‡∏µ‡∏¢‡∏á-->
    <audio id="winSound" preload="auto"><source src="./airhorn.mp3" type="audio/mpeg" /></audio>
    <audio id="clickSound" src="./dice.mp3" preload="auto"></audio>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
      import {
        getFirestore,
        collection,
        getDocs,
        addDoc,
        doc,
        runTransaction,
        serverTimestamp,
      } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

      const firebaseConfig = {
        apiKey: "AIzaSyD8ko210KDMiwBaOt8hfP8E6xaaIH6wmuY",
        authDomain: "lucky-draw-71111.firebaseapp.com",
        projectId: "lucky-draw-71111",
        storageBucket: "lucky-draw-71111.firebasestorage.app",
        messagingSenderId: "454176396890",
        appId: "1:454176396890:web:16a42e97461ce2246daa63",
        measurementId: "G-3TY8QK576P",
      };

      // üî• Initialize
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      // üî• ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ
      window.firebaseDb = db;
      window.firebaseApi = {
        collection,
        getDocs,
        addDoc,
        doc,
        runTransaction,
        serverTimestamp,
      };
    </script>

    <script>
      const participants = [
        "‡∏ô‡∏≤‡∏¢‡∏û‡∏¥‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡πå  ‡∏à‡∏£‡∏∏‡∏á‡πÄ‡∏£‡∏∑‡∏≠‡∏á‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå",
        "‡∏ô‡∏≤‡∏¢‡∏Å‡∏£‡∏£‡∏ì‡∏ß‡∏¥‡∏ç‡∏ç‡πå ‡∏Å‡∏≤‡∏ô‡∏ï‡πå‡∏ò‡∏ô‡∏¥‡∏ô‡∏Å‡∏∏‡∏ç‡∏ä‡πå",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏•‡∏±‡∏Å‡∏©‡∏°‡∏ì  ‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ì‡∏±‡∏ä‡∏ä‡∏≤  ‡∏ñ‡∏°‡∏¢‡∏≤‡∏û‡∏¥‡∏ó‡∏±‡∏Å‡∏©‡πå",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ä‡∏∏‡∏ï‡∏¥‡∏°‡∏≤ ‡∏¢‡∏¥‡πâ‡∏°‡∏≠‡πà‡∏≠‡∏ô",
        "‡∏ô‡∏≤‡∏¢‡∏ò‡∏ô‡∏ß‡∏±‡∏í‡∏ô‡πå ‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡∏õ‡∏£‡∏µ‡∏ä‡∏≤‡∏ô‡∏ô‡∏ó‡πå",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ä‡∏•‡∏ò‡∏¥‡∏ä‡∏≤ ‡πÅ‡∏Ç‡∏°‡∏û‡∏¥‡∏°‡∏≤‡∏¢",
        "‡∏ô‡∏≤‡∏á‡∏ô‡∏±‡∏¢‡∏ô‡∏≤ ‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡∏°‡∏≤",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏™‡∏∏‡∏î‡∏≤ ‡∏´‡∏°‡∏∑‡πà‡∏ô‡∏≠‡∏≤‡∏à‡∏¢‡∏¥‡πâ‡∏°",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏à‡∏¥‡∏£‡∏ò‡∏¥‡∏î‡∏≤ ‡∏Ç‡∏∏‡∏ô‡∏™‡∏≠‡∏≤‡∏î‡∏®‡∏£‡∏µ",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ô‡∏¥‡∏ï‡∏¢‡∏≤ ‡∏ß‡∏£‡∏£‡∏ì‡∏∞",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ß‡∏¥‡∏†‡∏≤‡∏ß‡∏£‡∏£‡∏ì ‡∏¢‡∏±‡∏ô‡∏ï‡∏∞‡∏û‡∏≤‡∏ô‡∏¥‡∏ä",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ô‡∏á‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå ‡∏ô‡∏≤‡∏Ñ‡πÄ‡∏ñ‡∏∑‡πà‡∏≠‡∏ô",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ì‡∏±‡∏ê‡∏û‡∏±‡∏ä‡∏£‡πå ‡∏ó‡∏≠‡∏á‡∏≠‡∏±‡∏ô‡∏ï‡∏±‡∏á",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ä‡∏•‡∏¥‡∏î‡∏≤ ‡∏´‡∏£‡∏µ‡∏´‡∏£‡πà‡∏≠‡∏á",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏´‡∏±‡∏ó‡∏¢‡∏≤ ‡∏≠‡∏¥‡∏ô‡∏Å‡∏•‡πà‡∏≠‡∏°",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏û‡∏±‡∏ä‡∏¢‡∏≤ ‡∏ó‡∏≠‡∏á‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏´‡∏•‡∏ß‡∏á",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏Ñ‡∏ä‡∏≤‡∏†‡∏£‡∏ì‡πå ‡∏î‡∏≤‡∏ö‡πÅ‡∏Å‡πâ‡∏ß",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏à‡∏∏‡∏ë‡∏≤‡∏°‡∏≤‡∏® ‡∏Ñ‡∏á‡∏à‡∏£",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ì‡∏±‡∏ê‡∏ì‡∏¥‡∏ä‡∏≤ ‡πÄ‡∏Å‡∏¥‡∏î‡∏†‡∏≤‡∏Ñ‡∏µ",
        "‡∏ô‡∏≤‡∏¢‡∏£‡∏ì‡∏Å‡∏§‡∏ï ‡∏ô‡∏ß‡∏•‡πÄ‡∏ô‡∏≤‡∏ß‡πå",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡πÄ‡∏û‡∏ä‡∏£‡∏î‡∏≤ ‡∏Å‡∏≠‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡πå‡∏û‡∏±‡∏í‡∏ô‡πå",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏•‡∏•‡∏¥‡∏ï‡∏≤ ‡∏ä‡πà‡∏≠‡∏™‡∏∞‡∏≠‡∏∂‡∏Å",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ß‡∏±‡∏ô‡∏ó‡∏ô‡∏µ‡∏¢‡πå ‡∏™‡∏∏‡∏ï‡∏Å‡∏≤‡∏£",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏™‡∏°‡∏®‡∏£‡∏µ ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡πå‡∏ò‡∏≤‡∏£‡∏≤",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡∏î‡∏≤ ‡∏≠‡∏¥‡∏ô‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ì‡∏±‡∏ê‡∏£‡∏¥‡∏Å‡∏≤ ‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ä‡∏ô‡∏≤‡∏ô‡∏±‡∏ô‡∏ó‡πå ‡∏ß‡∏±‡∏à‡∏ô‡∏∞",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏®‡∏∏‡∏†‡∏≤‡∏ô‡∏±‡∏ô‡∏ó‡πå ‡∏¢‡∏∏‡∏°‡∏±‡∏á‡∏Å‡∏π‡∏£",
        "‡∏ô‡∏≤‡∏á‡∏Å‡∏±‡∏ç‡∏à‡∏ô‡∏û‡∏£ ‡∏®‡∏£‡∏µ‡πÄ‡∏û‡πá‡∏ä‡∏£",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏Å‡∏§‡∏ï‡∏¥‡∏¢‡∏≤ ‡∏î‡πâ‡∏ß‡∏á‡∏õ‡∏•‡∏µ",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏°‡∏≤‡∏£‡∏®‡∏£‡∏µ ‡πÄ‡∏ö‡πá‡∏ç‡∏û‡∏≤‡∏î",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ò‡∏ô‡∏±‡∏ä‡∏û‡∏£ ‡∏ö‡∏∏‡∏©‡∏Å‡∏£",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏õ‡∏¥‡∏¢‡∏∞‡∏ß‡∏£‡∏£‡∏ì ‡∏°‡∏á‡∏Ñ‡∏•‡πÄ‡∏î‡∏ä",
        "‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏°‡∏Å‡∏§‡∏ä ‡∏ä‡∏π‡∏ä‡πà‡∏ß‡∏á",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏†‡∏¥‡∏ç‡∏ç‡∏î‡∏≤ ‡∏™‡∏±‡∏ï‡∏¢‡πå‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏±‡∏á‡∏©‡∏µ",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏®‡∏¥‡∏£‡∏¥‡∏õ‡∏£‡∏∞‡∏†‡∏≤‡∏û‡∏£ ‡πÅ‡∏™‡∏á‡∏ó‡∏≠‡∏á‡∏î‡∏µ",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ß‡∏¥‡∏ä‡∏ä‡∏∏‡πÄ‡∏ß‡∏ä ‡∏õ‡∏¥‡∏ô‡∏Å‡∏±‡∏ô‡∏ó‡∏≤",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏°‡∏ì‡∏ë‡∏≤ ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏Å‡∏≠‡∏ö‡∏Å‡∏¥‡∏à",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡∏û‡∏¥‡∏®‡∏≤ ‡∏°‡∏á‡∏Ñ‡∏•‡∏™‡∏≤‡∏£‡πÇ‡∏™‡∏†‡∏ì",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ì‡∏±‡∏ê‡∏ä‡∏ç‡∏≤ ‡πÄ‡∏ó‡∏û‡∏ì‡∏£‡∏á‡∏Ñ‡πå",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏≤ ‡∏¢‡∏µ‡πà‡∏™‡∏∏‡πà‡∏ô‡∏®‡∏£‡∏µ",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏†‡∏≤‡∏ä‡∏¥‡∏ô‡∏µ ‡∏ó‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏™‡∏°",
        "‡∏ô‡∏≤‡∏á‡∏ô‡∏†‡∏≤ ‡πÄ‡∏Å‡∏©‡∏°‡πÇ‡∏™‡∏ï",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏∏‡∏†‡∏≤‡∏û ‡∏î‡∏≠‡∏Å‡πÄ‡∏ó‡∏µ‡∏¢‡∏ô",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏∏‡∏ô‡∏µ ‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡∏ú‡∏•",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏õ‡∏£‡∏≤‡∏ô‡∏≠‡∏° ‡πÑ‡∏ß‡∏¢‡∏¥‡πà‡∏á‡∏¢‡∏∏‡∏ó‡∏ò‡πå",
        "‡∏ô‡∏≤‡∏á‡∏£‡∏î‡∏≤ ‡πÄ‡∏õ‡∏£‡∏¢‡πÄ‡∏Å‡∏¥‡∏î",
        "‡∏ô‡∏≤‡∏á‡∏õ‡∏£‡∏≤‡∏ì‡∏µ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏à‡∏¥‡∏£‡∏û‡∏£‡∏£‡∏ì ‡∏Ñ‡∏£‡∏∏‡∏¢‡∏ó‡∏≠‡∏á",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏à‡∏¥‡∏ô‡∏î‡∏≤‡∏Å‡∏≤‡∏ô‡∏ï‡πå ‡∏ï‡∏¥‡∏ì‡∏£‡∏≤‡∏ä",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ï‡∏∏‡∏•‡∏≤‡∏û‡∏£ ‡∏ó‡∏±‡∏ö‡∏ó‡∏¥‡∏°‡πÉ‡∏™",
        "‡∏ô‡∏≤‡∏á‡∏ß‡∏¥‡∏†‡∏≤‡∏ß‡∏±‡∏•‡∏¢‡πå ‡∏ó‡πà‡∏≤‡∏â‡∏•‡∏≤‡∏î",
        "‡∏ô‡∏≤‡∏¢‡∏™‡∏∏‡∏ß‡∏£‡∏£‡∏ì ‡∏•‡∏∞‡∏≠‡∏≠‡∏á‡∏ä‡∏±‡∏¢",
        "‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏û‡∏á‡∏©‡πå ‡∏Ç‡∏∏‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏™‡∏£‡∏¥‡∏ê",
        "‡∏ô‡∏≤‡∏¢‡∏≠‡∏ô‡∏∏‡∏ß‡∏±‡∏ï‡∏£ ‡∏Å‡∏≤‡∏ß‡∏¥‡∏£‡∏∞‡πÄ‡∏î‡∏ä",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏õ‡∏£‡∏¥‡∏ä‡∏°‡∏ô ‡πÉ‡∏´‡∏°‡πà‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡∏î‡∏µ",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏õ‡∏≤‡∏£‡∏¥‡∏ä‡∏≤‡∏ï‡∏¥ ‡∏Ç‡πà‡∏≤‡∏ï‡πâ‡∏ô",
        "‡∏ô‡∏≤‡∏¢‡∏ß‡πÄ‡∏£‡∏ô‡∏ó‡∏£‡πå ‡πÄ‡∏™‡∏∑‡∏≠‡∏´‡∏ô‡∏π",
        "‡∏ô‡∏≤‡∏¢‡∏™‡∏±‡∏ô‡∏ï‡∏¥‡∏ä‡∏±‡∏¢ ‡πÉ‡∏à‡∏≠‡∏î‡∏ó‡∏ô",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ì‡∏±‡∏ê‡∏ì‡∏¥‡∏ä‡∏≤ ‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡πÄ‡∏Å‡∏™‡∏£‡∏≤ ‡∏ß‡∏±‡∏à‡∏ô‡∏∞",
        "‡∏ô‡∏≤‡∏¢‡∏ô‡∏ß‡∏†‡∏π‡∏°‡∏¥ ‡∏®‡∏£‡∏µ‡∏™‡∏±‡∏á‡∏ß‡∏£‡∏ì‡πå",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡πÄ‡∏™‡∏≤‡∏ß‡∏†‡∏≤ ‡∏ó‡∏£‡∏ß‡∏á‡∏°‡∏±‡πà‡∏ô",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ß‡∏•‡∏±‡∏¢‡∏£‡∏±‡∏ï‡∏ô‡πå ‡∏ö‡πâ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏µ‡∏£‡∏µ‡∏£‡∏±‡∏ê",
        "‡∏ô‡∏≤‡∏¢‡∏™‡∏≥‡∏£‡∏±‡∏à ‡∏à‡∏¥‡∏ô‡∏î‡∏≤‡∏£‡∏≠‡∏á",
        "‡∏ô‡∏≤‡∏¢‡∏ä‡∏≤‡∏ô‡∏ô‡∏ó‡πå ‡∏ß‡∏≤‡∏™‡∏ô‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏°‡∏≤‡∏•‡∏µ‡∏£‡∏±‡∏ï‡∏ô‡πå ‡∏£‡∏∏‡πà‡∏á‡∏£‡∏±‡∏ï‡∏ô‡∏™‡∏Å‡∏∏‡∏•",
        "‡∏ô‡∏≤‡∏¢‡∏™‡∏∏‡∏£‡∏¥‡∏¢‡∏≤ ‡∏≠‡∏∏‡πà‡∏°‡∏£‡∏π‡∏õ‡∏á‡∏≤‡∏°",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏Å‡∏°‡∏•‡∏ä‡∏ô‡∏Å ‡∏ö‡∏∏‡∏ç‡∏ä‡πà‡∏ß‡∏¢",
        "‡∏ô‡∏≤‡∏¢‡∏≠‡∏±‡∏™‡∏£‡∏≤‡∏ü ‡∏≠‡∏¥‡∏™‡πÄ‡∏´‡∏≤‡∏∞",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏Å‡∏¥‡∏£‡∏ï‡∏¥‡∏Å‡∏≤ ‡∏ó‡∏≠‡∏á‡∏î‡∏µ",
        "‡∏ô‡∏≤‡∏¢‡∏ì‡∏±‡∏è‡∏ê‡∏à‡∏±‡∏Å‡∏£ ‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î‡∏ó‡∏≠‡∏á",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡πÄ‡∏™‡∏≤‡∏ß‡∏ô‡∏µ‡∏¢‡πå ‡∏°‡∏á‡∏Ñ‡∏•‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏Ñ‡∏∏‡∏ì",
        "‡∏ô‡∏≤‡∏¢‡∏Å‡∏§‡∏ï‡∏û‡∏• ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏à‡∏±‡∏ï‡∏∏‡∏£‡∏±‡∏™",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏Å‡∏£‡∏≠‡∏á‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡πå ‡∏•‡∏µ‡∏™‡∏∏‡∏Ç‡∏™‡∏≤‡∏°",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ô‡πâ‡∏≥‡πÄ‡∏û‡∏ä‡∏£ ‡∏ä‡∏≤‡∏ï‡∏¥‡∏Å‡∏•‡∏≤‡∏á",
        "‡∏ô‡∏≤‡∏¢‡πÇ‡∏™‡∏†‡∏ì ‡∏≠‡∏¥‡πà‡∏°‡∏à‡∏¥‡∏ï‡∏ï‡πå",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏õ‡∏¥‡∏¢‡∏î‡∏≤ ‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡πå‡∏ä‡∏∑‡πà‡∏ô",
        "‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå ‡∏ó‡∏ß‡∏µ‡∏®‡∏£‡∏µ",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏£‡∏±‡∏ï‡∏ô‡πå ‡∏á‡∏≠‡∏ô‡∏£‡∏ñ",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡πÄ‡∏Å‡∏©‡∏°‡∏®‡∏£‡∏µ ‡∏ô‡∏≤‡∏™‡∏ß‡∏ô‡∏ó‡∏±‡∏®‡∏ô‡∏µ‡∏¢‡πå",
        "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏Å‡∏≤‡∏ô‡∏î‡∏≤‡∏°‡∏ì‡∏µ ‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏™‡∏£‡∏¥‡∏ê",
        "‡∏ô‡∏≤‡∏¢‡πÄ‡∏Å‡∏£‡∏µ‡∏¢‡∏á‡πÑ‡∏Å‡∏£",
      ];

      // ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÉ‡∏´‡∏°‡πà (‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏õ‡πá‡∏ô 84 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)
      const prizes = [
        "‡∏ä‡∏∏‡∏î‡∏ú‡πâ‡∏≤‡∏õ‡∏π‡∏ó‡∏µ‡πà‡∏ô‡∏≠‡∏ô 6 ‡∏ü‡∏∏‡∏ï 7 ‡∏ä‡∏¥‡πâ‡∏ô (‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß)",
        "‡∏ä‡∏∏‡∏î‡∏ú‡πâ‡∏≤‡∏õ‡∏π‡∏ó‡∏µ‡πà‡∏ô‡∏≠‡∏ô 6 ‡∏ü‡∏∏‡∏ï (‡∏°‡∏¥‡∏ô‡πÄ‡∏ô‡∏µ‡πà‡∏¢‡∏ô)",
        "‡∏ä‡∏∏‡∏î‡πÇ‡∏ï‡πä‡∏∞‡πÅ‡∏•‡∏∞‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ‡πÅ‡∏Ñ‡∏°‡∏õ‡πå‡∏õ‡∏¥‡πâ‡∏á 5 ‡∏ä‡∏¥‡πâ‡∏ô",
        "‡∏ä‡∏∏‡∏î‡∏´‡∏°‡πâ‡∏≠ 6 ‡∏ä‡∏¥‡πâ‡∏ô",
        "‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏≠‡πÄ‡∏ô‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå",
        "‡πÄ‡∏ï‡∏≤‡∏£‡∏µ‡∏î (‡∏´‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç)",
        "‡∏´‡∏°‡πâ‡∏≠‡∏≠‡∏ö OTTO",
        "‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á 20 ‡∏ô‡∏¥‡πâ‡∏ß",
        "‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á 24 ‡∏ô‡∏¥‡πâ‡∏ß",
        "‡πÄ‡∏ï‡∏≤‡∏õ‡∏¥‡πâ‡∏á‡∏¢‡πà‡∏≤‡∏á Aconatic (‡∏ä‡∏¥‡∏ô‡∏à‡∏±‡∏á)",
        "‡πÄ‡∏ï‡∏≤‡∏õ‡∏¥‡πâ‡∏á‡∏¢‡πà‡∏≤‡∏á Aconatic (‡∏ä‡∏¥‡∏ô‡∏à‡∏±‡∏á)",
        "‡∏ú‡πâ‡∏≤‡∏ô‡∏ß‡∏°‡πÅ‡∏ö‡∏ö‡∏ö‡∏≤‡∏á (‡∏ú‡πâ‡∏≤‡∏´‡πà‡∏°‡πÄ‡∏¢‡πá‡∏ô)",
        "‡∏ú‡πâ‡∏≤‡∏ô‡∏ß‡∏°‡πÅ‡∏ö‡∏ö‡∏ö‡∏≤‡∏á (‡∏ú‡πâ‡∏≤‡∏´‡πà‡∏°‡πÄ‡∏¢‡πá‡∏ô)",
        "‡∏´‡∏°‡πâ‡∏≠‡∏™‡∏∏‡∏Å‡∏µ‡πâ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ (‡∏´‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç)",
        "‡πÄ‡∏ï‡∏≤‡πÅ‡∏Å‡πä‡∏™‡∏õ‡∏¥‡∏Ñ‡∏ô‡∏¥‡∏Ñ OTTO",
        "‡∏´‡∏°‡πâ‡∏≠‡∏™‡∏∏‡∏Å‡∏µ‡πâ OTTO (‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß)",
        "‡πÄ‡∏ï‡∏≤‡∏≠‡πÄ‡∏ô‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå Aconatic",
        "‡∏ú‡πâ‡∏≤‡∏ô‡∏ß‡∏°‡∏´‡∏ô‡∏≤‡∏ô‡∏∏‡πà‡∏°",
        "‡∏´‡∏°‡πâ‡∏≠‡∏ï‡πâ‡∏°‡∏≠‡πÄ‡∏ô‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå (‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß)",
        "‡∏´‡∏°‡πâ‡∏≠‡∏ï‡πâ‡∏°‡∏≠‡πÄ‡∏ô‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå (‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß)",
        "‡πÄ‡∏ï‡∏≤‡∏õ‡∏¥‡πâ‡∏á‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á Aconatic (‡∏ä‡∏¥‡∏ô‡∏à‡∏±‡∏á)",
        "‡πÄ‡∏ï‡∏≤‡∏õ‡∏¥‡πâ‡∏á‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á Aconatic (‡∏ä‡∏¥‡∏ô‡∏à‡∏±‡∏á)",
        "‡∏´‡∏°‡πâ‡∏≠‡∏´‡∏∏‡∏á‡∏Ç‡πâ‡∏≤‡∏á OTTO (‡∏Ç‡∏≤‡∏ß-‡∏ü‡πâ‡∏≤)",
        "‡∏´‡∏°‡πâ‡∏≠‡∏´‡∏∏‡∏á‡∏Ç‡πâ‡∏≤‡∏á OTTO (‡∏Ç‡∏≤‡∏ß-‡∏ü‡πâ‡∏≤)",
        "‡∏Å‡∏£‡∏∞‡∏ï‡∏¥‡∏Å‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á 15L. ‡∏™‡∏ô‡∏π‡∏õ‡∏õ‡∏µ‡πâ (‡∏™‡∏µ‡∏ü‡πâ‡∏≤)",
        "‡∏Å‡∏£‡∏∞‡∏ï‡∏¥‡∏Å‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á 32L. ‡∏™‡∏ô‡∏π‡∏õ‡∏õ‡∏µ‡πâ (‡∏™‡∏µ‡∏Ñ‡∏£‡∏µ‡∏°)",
        "‡∏ï‡∏π‡πâ‡∏•‡∏¥‡πâ‡∏ô‡∏ä‡∏±‡∏Å‡∏Æ‡∏≤‡∏ô‡πà‡∏≤‡πÄ‡∏ó‡∏≤ 4 ‡∏ä‡∏±‡πâ‡∏ô",
        "‡∏ï‡∏π‡πâ‡∏•‡∏¥‡πâ‡∏ô‡∏ä‡∏±‡∏Å‡∏Æ‡∏≤‡∏ô‡πà‡∏≤‡πÄ‡∏ó‡∏≤ 4 ‡∏ä‡∏±‡πâ‡∏ô",
        "‡∏ä‡∏∏‡∏î‡∏ñ‡∏±‡∏á‡∏õ‡∏±‡πà‡∏ô‡πÑ‡∏•‡∏ó‡πå‡πÄ‡∏ß‡∏™‡∏õ‡∏¥‡∏ô",
        "‡∏´‡∏°‡πâ‡∏≠‡∏´‡∏∏‡∏á‡∏Ç‡πâ‡∏≤‡∏ß Aconatic (‡∏ä‡∏¥‡∏ô‡∏à‡∏±‡∏á)",
        "‡∏´‡∏°‡πâ‡∏≠‡∏´‡∏∏‡∏á‡∏Ç‡πâ‡∏≤‡∏ß Aconatic (‡∏ä‡∏¥‡∏ô‡∏à‡∏±‡∏á)",
        "‡πÄ‡∏ï‡∏≤‡πÑ‡∏ü‡∏ü‡πâ‡∏≤+‡∏´‡∏°‡πâ‡∏≠ Smarthome",
        "‡πÄ‡∏ï‡∏≤‡πÑ‡∏ü‡∏ü‡πâ‡∏≤+‡∏´‡∏°‡πâ‡∏≠ Smarthome",
        "‡∏Å‡∏£‡∏∞‡∏ó‡∏∞‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ Smarthome (‡∏™‡∏µ‡πÅ‡∏î‡∏á)",
        "‡∏Å‡∏£‡∏∞‡∏ó‡∏∞‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ Smarthome (‡∏™‡∏µ‡πÅ‡∏î‡∏á)",
        "‡∏´‡∏°‡πâ‡∏≠‡∏ô‡∏∂‡πà‡∏á‡πÑ‡∏≠‡∏ô‡πâ‡∏≥ KITTY",
        "‡∏´‡∏°‡πâ‡∏≠‡∏ô‡∏∂‡πà‡∏á‡πÑ‡∏≠‡∏ô‡πâ‡∏≥ KITTY",
        "‡∏´‡∏°‡πâ‡∏≠‡∏ó‡∏≠‡∏î‡πÑ‡∏£‡πâ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô Smarthome",
        "‡∏´‡∏°‡πâ‡∏≠‡∏™‡∏∏‡∏Å‡∏µ‡πâ ‡∏ä‡∏≤‡∏ö‡∏π OTTO 2 ‡∏ä‡∏±‡πâ‡∏ô (‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß)",
        "‡∏´‡∏°‡πâ‡∏≠‡∏™‡∏∏‡∏Å‡∏µ‡πâ ‡∏ä‡∏≤‡∏ö‡∏π OTTO 2 ‡∏ä‡∏±‡πâ‡∏ô (‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß)",
        "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏±‡πà‡∏ô KITTY",
        "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏±‡πà‡∏ô KITTY",
        "‡∏´‡∏°‡πâ‡∏≠‡∏≠‡πÄ‡∏ô‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå Smarthome",
        "‡∏û‡∏±‡∏î‡∏•‡∏° 16 ‡∏ô‡∏¥‡πâ‡∏ß Hatari",
        "‡∏û‡∏±‡∏î‡∏•‡∏° 16 ‡∏ô‡∏¥‡πâ‡∏ß Sharp",
        "‡∏´‡∏°‡πâ‡∏≠‡∏ó‡∏≠‡∏î‡πÑ‡∏£‡πâ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô Smarthome",
        "‡∏´‡∏°‡πâ‡∏≠‡∏´‡∏∏‡∏á‡∏Ç‡πâ‡∏≤‡∏ß SHARP",
        "‡πÄ‡∏ï‡∏≤‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏´‡∏°‡πâ‡∏≠‡∏ï‡πâ‡∏° anitech",
        "‡∏•‡∏≥‡πÇ‡∏û‡∏á NANO",
        "‡∏´‡∏°‡πâ‡∏≠‡∏°‡∏¥‡∏Å‡∏Å‡∏µ‡πâ ‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß",
        "‡∏´‡∏°‡πâ‡∏≠‡∏°‡∏¥‡∏Å‡∏Å‡∏µ‡πâ ‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß",
        "‡∏´‡∏°‡πâ‡∏≠‡∏°‡∏¥‡∏Å‡∏Å‡∏µ‡πâ ‡∏™‡∏µ‡πÅ‡∏î‡∏á",
        "‡∏´‡∏°‡πâ‡∏≠‡∏°‡∏¥‡∏Å‡∏Å‡∏µ‡πâ ‡∏™‡∏µ‡πÅ‡∏î‡∏á",
        "‡∏ä‡∏∏‡∏î‡∏ú‡πâ‡∏≤‡∏õ‡∏π cinnamoroll 6 ‡∏ü‡∏∏‡∏ï",
        "‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ 3 ‡∏ä‡∏±‡πâ‡∏ô",
        "‡∏´‡∏°‡πâ‡∏≠‡∏´‡∏∏‡∏á‡∏Ç‡πâ‡∏≤‡∏ß TOSHIBA",
        "‡∏•‡∏≥‡πÇ‡∏û‡∏á‡∏ö‡∏•‡∏π‡∏ó‡∏π‡∏ò ‡∏≠‡∏∞‡πÇ‡∏Ñ‡∏ô‡∏≤‡∏ï‡∏¥‡∏Å",
        "‡∏ó‡πá‡∏≠‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå‡∏Ñ‡∏•‡∏∞‡∏•‡∏≤‡∏¢ 3.5*6.5 ‡∏ü‡∏∏‡∏ï",
        "‡∏ó‡πá‡∏≠‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå‡∏Ñ‡∏•‡∏∞‡∏•‡∏≤‡∏¢ 3.5*6.5 ‡∏ü‡∏∏‡∏ï",
        "‡πÄ‡∏ï‡∏≤‡∏õ‡∏¥‡πâ‡∏á‡∏¢‡πà‡∏≤‡∏á OHWOW",
        "‡πÄ‡∏ã‡πá‡∏ï‡∏ú‡πâ‡∏≤‡∏Ç‡∏ô‡∏´‡∏ô‡∏π (‡∏´‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç)",
        "‡πÄ‡∏ã‡πá‡∏ï‡∏ú‡πâ‡∏≤‡∏Ç‡∏ô‡∏´‡∏ô‡∏π (‡∏´‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç)",
        "‡πÄ‡∏ã‡πá‡∏ï‡∏ú‡πâ‡∏≤‡∏Ç‡∏ô‡∏´‡∏ô‡∏π (‡∏´‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç)",
        "‡πÄ‡∏ã‡πá‡∏ï‡∏ú‡πâ‡∏≤‡∏Ç‡∏ô‡∏´‡∏ô‡∏π (‡∏´‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç)",
        "‡πÑ‡∏î‡∏£‡πå‡πÄ‡∏õ‡πà‡∏≤‡∏ú‡∏°",
        "‡∏ú‡πâ‡∏≤‡∏´‡πà‡∏° NICRO QUILT (HAVEN)",
        "‡∏ú‡πâ‡∏≤‡∏´‡πà‡∏° NICRO QUILT (HAVEN)",
        "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ü‡∏≠‡∏Å‡∏≠‡∏≤‡∏Å‡∏≤‡∏®",
        "‡∏ä‡∏∏‡∏î‡∏°‡∏µ‡∏î‡∏û‡∏£‡πâ‡∏≠‡∏° BLOCK",
        "‡∏ä‡∏∏‡∏î‡∏°‡∏µ‡∏î 7 ‡∏ä‡∏¥‡πâ‡∏ô BK",
        "‡∏ä‡∏∏‡∏î‡∏´‡∏°‡πâ‡∏≠‡∏î‡πâ‡∏≤‡∏° HAPPY",
        "‡∏ä‡∏∏‡∏î‡∏´‡∏°‡πâ‡∏≠‡∏î‡πâ‡∏≤‡∏° HAPPY",
        "‡∏ä‡∏∏‡∏î‡∏´‡∏°‡πâ‡∏≠‡∏î‡πâ‡∏≤‡∏°‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô (‡∏´‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç)",
        "‡∏ä‡∏∏‡∏î‡∏´‡∏°‡πâ‡∏≠‡∏î‡πâ‡∏≤‡∏°‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô (‡∏´‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç)",
        "‡∏ä‡∏∏‡∏î‡∏´‡∏°‡πâ‡∏≠ HOMEY 4 ‡∏ä‡∏¥‡πâ‡∏ô",
        "‡∏ä‡∏∏‡∏î‡∏´‡∏°‡πâ‡∏≠ HOMEY 4 ‡∏ä‡∏¥‡πâ‡∏ô",
        "‡∏´‡∏°‡πâ‡∏≠‡∏´‡∏∏‡∏á‡∏ï‡πâ‡∏° TIGER 22 C",
        "‡∏´‡∏°‡πâ‡∏≠‡∏´‡∏∏‡∏á‡∏ï‡πâ‡∏° TIGER 24 C",
        "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ã‡∏±‡∏Å‡∏ú‡πâ‡∏≤",
        "‡∏ä‡∏∏‡∏î‡∏´‡∏°‡πâ‡∏≠‡∏ô‡∏∂‡πà‡∏á 28 cm EKONO 3 ‡∏ä‡∏¥‡πâ‡∏ô",
        "‡∏ó‡∏µ‡πà‡∏ô‡∏≠‡∏ô‡∏õ‡∏¥‡∏Ñ‡∏ô‡∏¥‡∏Ñ 90*180 way blue snazz",
        "‡∏ä‡∏∏‡∏î‡∏ú‡πâ‡∏≤‡∏õ‡∏π HLS",
        "‡∏û‡∏±‡∏î‡∏•‡∏° 16 ‡∏ô‡∏¥‡πâ‡∏ß Imarflex",
        "‡∏´‡∏°‡πâ‡∏≠‡∏´‡∏∏‡∏á‡∏Ç‡πâ‡∏≤‡∏ß kashiwa 1.8 ‡∏•‡∏¥‡∏ï‡∏£",
      ];

      let drawnRecords = [];
      let isDrawing = false;

      const defaultConfig = {
        main_title: "üéÅ ‡∏à‡∏±‡∏ö‡∏â‡∏•‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà üéÅ",
        subtitle: "‡∏•‡∏∏‡πâ‡∏ô‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÉ‡∏´‡∏ç‡πà‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ 2568",
        draw_button_text: "üé≤ ‡∏™‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•",
        background_color: "#667eea",
        card_background: "#ffffff",
        button_color: "#f5576c",
        text_color: "#333333",
        accent_color: "#764ba2",
      };

      const dataHandler = {
        onDataChanged(data) {
          drawnRecords = data;
          updateUI();
        },
      };

      async function loadDrawnFromFirebase() {
        try {
          const { collection, getDocs } = window.firebaseApi;

          const snapshot = await getDocs(
            collection(window.firebaseDb, "drawnRecords")
          );

          drawnRecords = snapshot.docs.map((doc) => {
            const data = doc.data();
            return {
              timestamp: data.createdAt?.toDate
                ? data.createdAt.toDate().toISOString()
                : null,
              name: data.name,
              prize_number: Number(data.prize_number),
              prize_name: data.prize_name,
            };
          });

          updateUI(); // ‚úÖ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï dropdown + ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
        } catch (err) {
          console.error("‚ùå ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Firebase ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:", err);
        }
      }

      async function init() {
        await loadDrawnFromFirebase();

        // ‚úÖ ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ DOM + data ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß
        updateUI();

        setupEventListeners();
      }

      function setupEventListeners() {
        document
          .getElementById("drawButton")
          .addEventListener("click", handleDraw);
        document
          .getElementById("modalCloseBtn")
          .addEventListener("click", closeModal);
        document
          .getElementById("modalOverlay")
          .addEventListener("click", (e) => {
            if (e.target.id === "modalOverlay") closeModal();
          });
        document.getElementById("nameSearch").addEventListener("input", (e) => {
          filterNameDropdown(e.target.value);
        });
      }

      async function handleDraw() {
        // üîä ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ï‡∏≠‡∏ô‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏∏‡πà‡∏°
  const click = document.getElementById("clickSound");
  if (click) {
    click.currentTime = 0;
    click.volume = 0.6;
    click.play().catch(() => {});
  }
        const selectedName = document.getElementById("nameSelect").value;

        if (!selectedName) {
          showError("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°");
          return;
        }

        const alreadyDrawn = drawnRecords.find((r) => r.name === selectedName);
        if (alreadyDrawn) {
          showError(
            `${selectedName} ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß (‡πÄ‡∏ö‡∏≠‡∏£‡πå ${alreadyDrawn.prize_number}: ${alreadyDrawn.prize_name})`
          );
          return;
        }

        if (drawnRecords.length >= 84) {
          showError("‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ñ‡∏π‡∏Å‡∏à‡∏±‡∏ö‡∏Ñ‡∏£‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß (84 ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•)");
          return;
        }

        if (drawnRecords.length >= 999) {
          showError("‡∏ñ‡∏∂‡∏á‡∏Ç‡∏µ‡∏î‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß");
          return;
        }

        await performDraw(selectedName);
      }

      async function performDraw(selectedName) {
        const button = document.getElementById("drawButton");
        const buttonText = document.getElementById("drawButtonText");

        isDrawing = true;
        button.disabled = true;
        buttonText.innerHTML =
          '<span class="loading-spinner"></span> ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏∏‡πà‡∏°...';
        hideError();
        showDrawingAnimation();

        await new Promise((resolve) => setTimeout(resolve, 2500));

        // ‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏Ç‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏à‡∏≤‡∏Å‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏à‡∏±‡∏ö
        const drawnNumbers = new Set(drawnRecords.map((r) => r.prize_number));
        const availableNumbers = [];
        for (let i = 1; i <= 84; i++) {
          if (!drawnNumbers.has(i)) availableNumbers.push(i);
        }

        const prizeNumber =
          availableNumbers[Math.floor(Math.random() * availableNumbers.length)];
        const prizeName = prizes[prizeNumber - 1];

        try {
          const { doc, runTransaction, serverTimestamp } = window.firebaseApi;

          await runTransaction(window.firebaseDb, async (transaction) => {
            const userRef = doc(
              window.firebaseDb,
              "drawnRecords",
              selectedName // üî• ‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô documentId
            );

            const snapshot = await transaction.get(userRef);

            // üîí ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß = FAIL ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
            if (snapshot.exists()) {
              throw new Error("NAME_ALREADY_DRAWN");
            }

            transaction.set(userRef, {
              name: selectedName,
              prize_number: prizeNumber,
              prize_name: prizeName,
              createdAt: serverTimestamp(),
            });
          });

          // ‚úÖ ‡∏ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚Üí update ‡∏ù‡∏±‡πà‡∏á UI
          drawnRecords.push({
            name: selectedName,
            prize_number: prizeNumber,
            prize_name: prizeName,
            timestamp: new Date().toISOString(),
          });

          updateUI();
          showModal(selectedName, prizeNumber, prizeName);
          await sendNotification(selectedName, prizeNumber, prizeName);
          document.getElementById("nameSelect").value = "";
        } catch (err) {
          if (err.message === "NAME_ALREADY_DRAWN") {
            showError(`‚ùå ${selectedName} ‡∏ñ‡∏π‡∏Å‡∏™‡∏∏‡πà‡∏°‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß`);
          } else {
            console.error(err);
            showError("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•");
          }
        }

        hideDrawingAnimation();
        button.disabled = false;
        buttonText.textContent = defaultConfig.draw_button_text;
        isDrawing = false;
      }

      function showDrawingAnimation() {
        document.getElementById("drawingOverlay").classList.add("active");
      }

      function hideDrawingAnimation() {
        document.getElementById("drawingOverlay").classList.remove("active");
      }

      async function sendNotification(name, number, prize) {
        const timestamp = new Date().toLocaleString("th-TH");
        const message = `üéâ ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏π‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ!\n\n‚è∞ ‡πÄ‡∏ß‡∏•‡∏≤: ${timestamp}\nüë§ ‡∏ä‡∏∑‡πà‡∏≠: ${name}\nüé´ ‡πÄ‡∏ö‡∏≠‡∏£‡πå: ${number}\nüéÅ ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•: ${prize}`;

        const payload = {
          messages: [
            {
              type: "text",
              text: message,
            },
          ],
        };

        try {
          const response = await fetch(
            "https://morpromt2f.moph.go.th/api/notify/send",
            {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
                "client-key": "78ad25bd1d723070de95fb5652393361d64817cb",
                "secret-key": "KIEBSLAUXEEDWIW3G3F2IT4ILPRQ",
              },
              body: JSON.stringify(payload),
            }
          );

          if (!response.ok) {
            console.error("Failed to send notification");
          }
        } catch (error) {
          console.error("Error sending notification:", error);
        }
      }

      function showModal(name, number, prize) {
        document.getElementById("modalName").textContent = name;
        document.getElementById("modalNumber").textContent = `‡πÄ‡∏ö‡∏≠‡∏£‡πå ${number}`;
        document.getElementById("modalPrize").textContent = prize;

        // üîä ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ï‡∏≠‡∏ô‡∏ñ‡∏π‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•
        const sound = document.getElementById("winSound");
        if (sound) {
          sound.currentTime = 0; // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
          sound.play().catch(() => {});
        }
        document.getElementById("modalOverlay").classList.add("active");
      }

      function closeModal() {
        document.getElementById("modalOverlay").classList.remove("active");
      }

      function updateUI() {
        const sortedRecords = [...drawnRecords].sort(
          (a, b) => b.prize_number - a.prize_number
        );

        const resultsList = document.getElementById("resultsList");
        resultsList.innerHTML = "";

        sortedRecords.forEach((record, index) => {
          const item = document.createElement("div");
          item.className = "result-item";
          item.style.animationDelay = `${index * 0.1}s`;
          item.innerHTML = `
          <div class="result-number">${record.prize_number}</div>
          <div class="result-details">
            <div class="result-name">${record.name}</div>
          </div>
        `;
          resultsList.appendChild(item);
        });

        const resultsSection = document.getElementById("resultsSection");
        resultsSection.style.display =
          drawnRecords.length > 0 ? "block" : "none";

        const drawnNames = new Set(drawnRecords.map((r) => r.name));
        const remainingParticipants = participants.filter(
          (name) => !drawnNames.has(name)
        ).length;

        document.getElementById(
          "drawnCount"
        ).textContent = `${drawnRecords.length}/84`;
        document.getElementById(
          "totalCount"
        ).textContent = `${participants.length}`;
        document.getElementById(
          "remainingCount"
        ).textContent = `${remainingParticipants}`;

        updateNameDropdown();
      }

      function updateNameDropdown() {
        const nameSelect = document.getElementById("nameSelect");
        const currentName = nameSelect.value;
        const drawnNames = new Set(drawnRecords.map((r) => r.name));

        nameSelect.innerHTML = '<option value="">-- ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠ --</option>';

        participants.forEach((name) => {
          if (!drawnNames.has(name)) {
            const option = document.createElement("option");
            option.value = name;
            option.textContent = name;
            nameSelect.appendChild(option);
          }
        });

        if (!drawnNames.has(currentName)) {
          nameSelect.value = currentName;
        }
      }

      function filterNameDropdown(keyword) {
        const nameSelect = document.getElementById("nameSelect");
        const drawnNames = new Set(drawnRecords.map((r) => r.name));

        nameSelect.innerHTML = '<option value="">-- ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠ --</option>';

        participants
          .filter(
            (name) =>
              !drawnNames.has(name) &&
              name.toLowerCase().includes(keyword.toLowerCase())
          )
          .forEach((name) => {
            const option = document.createElement("option");
            option.value = name;
            option.textContent = name;
            nameSelect.appendChild(option);
          });
      }

      function showError(message) {
        const errorEl = document.getElementById("errorMessage");
        errorEl.textContent = message;
        errorEl.classList.add("active");
      }

      function hideError() {
        document.getElementById("errorMessage").classList.remove("active");
      }

      async function onConfigChange(config) {
        document.getElementById("mainTitle").textContent =
          config.main_title || defaultConfig.main_title;
        document.getElementById("subtitle").textContent =
          config.subtitle || defaultConfig.subtitle;
        document.getElementById("drawButtonText").textContent =
          config.draw_button_text || defaultConfig.draw_button_text;
      }

      if (window.elementSdk) {
        window.elementSdk.init({
          defaultConfig,
          onConfigChange,
          mapToCapabilities: (config) => ({
            recolorables: [
              {
                get: () =>
                  config.background_color || defaultConfig.background_color,
                set: (value) => {
                  config.background_color = value;
                  window.elementSdk.setConfig({ background_color: value });
                },
              },
              {
                get: () =>
                  config.card_background || defaultConfig.card_background,
                set: (value) => {
                  config.card_background = value;
                  window.elementSdk.setConfig({ card_background: value });
                },
              },
              {
                get: () => config.button_color || defaultConfig.button_color,
                set: (value) => {
                  config.button_color = value;
                  window.elementSdk.setConfig({ button_color: value });
                },
              },
            ],
            borderables: [],
            fontEditable: undefined,
            fontSizeable: undefined,
          }),
          mapToEditPanelValues: (config) =>
            new Map([
              ["main_title", config.main_title || defaultConfig.main_title],
              ["subtitle", config.subtitle || defaultConfig.subtitle],
              [
                "draw_button_text",
                config.draw_button_text || defaultConfig.draw_button_text,
              ],
            ]),
        });
      }
      document.addEventListener("DOMContentLoaded", init);
    </script>
    <script>
      (function () {
        function c() {
          var b = a.contentDocument || a.contentWindow.document;
          if (b) {
            var d = b.createElement("script");
            d.innerHTML =
              "window.__CF$cv$params={r:'9aaa252015e07336',t:'MTc2NTE3NDcwMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";
            b.getElementsByTagName("head")[0].appendChild(d);
          }
        }
        if (document.body) {
          var a = document.createElement("iframe");
          a.height = 1;
          a.width = 1;
          a.style.position = "absolute";
          a.style.top = 0;
          a.style.left = 0;
          a.style.border = "none";
          a.style.visibility = "hidden";
          document.body.appendChild(a);
          if ("loading" !== document.readyState) c();
          else if (window.addEventListener)
            document.addEventListener("DOMContentLoaded", c);
          else {
            var e = document.onreadystatechange || function () {};
            document.onreadystatechange = function (b) {
              e(b);
              "loading" !== document.readyState &&
                ((document.onreadystatechange = e), c());
            };
          }
        }
      })();
    </script>
  </body>
</html>
